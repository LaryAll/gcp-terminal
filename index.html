<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>GCP Terminal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * {
      box-sizing: border-box;
    }

    html, body {
      margin: 0;
      background: #000;
      color: #33ff33;
      font-family: 'Courier New', monospace;
      line-height: 1.6;
      overflow: hidden;
      height: 100vh;
    }

    .container {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .terminal-wrapper {
      flex-grow: 1;
      overflow-y: auto;
      padding: 16px;
    }

    .terminal {
      font-size: clamp(12px, 3.5vw, 16px);
      white-space: pre-wrap;
      word-break: break-word;
      max-width: 100%;
    }

    .cursor {
      display: inline-block;
      font-weight: bold;
      animation: blink 1s step-end infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }
  </style>
</head>
<body>

<div class="container">
  <div class="terminal-wrapper">
    <div class="terminal" id="terminal">
      <span class="cursor">_</span>
    </div>
  </div>
</div>

<script>
  const terminal = document.getElementById("terminal");
  const cursor = document.querySelector(".cursor");

  const errorBlock = [
    "*************** CRITICAL ERROR ***************",
    "*                                            *",
    "*  ERROR CODE     : QSR-404/∞                *",
    "*  DESCRIPTION    : SYSTEM OFFLINE           *",
    "*  NODE RESPONSE  : UNREACHABLE              *",
    "*  TIMESTAMP      : [0000.∞.GSTD]            *",
    "*                                            *",
    "*  TICKET REF     : #GCP-α-0001              *",
    "*  DISTRIBUTION   : ACTIVE                   *",
    "*  PRIORITY       : FLOATING                 *",
    "*  NEXT UNIT      : UNASSIGNED               *",
    "*                                            *",
    "*  PLEASE STANDBY                            *",
    "*  AN OPERATOR HAS BEEN NOTIFIED (PROBABLY)  *",
    "*                                            *",
    "**********************************************"
  ];

  const postTyping = [
    "",
    "> INITIALIZE SECTOR K13...",
    "> CONNECTING TO GALACTIC CONSOLE PANEL...",
    "> VERIFYING ACCESS LEVEL [user: UNREGISTERED CONTRACTOR]",
    "> CONNECTION STALLED...",
    "",
    "> SYSTEM ENTERED OBSERVATION MODE",
    "> TICKET #GLX-001 FLAGGED FOR REDISTRIBUTION",
    "> EST. RECIPIENT: your (unremarkable but persistent) team",
    "",
    "> Awaiting manual handling by Operator ZL-42...",
    "> For infinite delay, submit Form 9/B manually",
    "",
    "> Likelihood of resolution: ¯\\_(ツ)_/¯",
    ""
  ];

  let errorLine = 0;

  function printErrorBlock() {
    if (errorLine < errorBlock.length) {
      insertLine(errorBlock[errorLine]);
      errorLine++;
      setTimeout(printErrorBlock, 170 + Math.random() * 300);
    } else {
      setTimeout(startTyping, 600);
    }
  }

  let postLine = 0;
  let charIndex = 0;

  function startTyping() {
    if (postLine >= postTyping.length) return;
    const line = postTyping[postLine];
    if (charIndex < line.length) {
      insertChar(line.charAt(charIndex));
      charIndex++;
      const delay = 60 + Math.random() * 50;
      setTimeout(startTyping, delay);
    } else {
      terminal.insertBefore(document.createElement("br"), cursor);
      postLine++;
      charIndex = 0;
      setTimeout(startTyping, 350);
    }
    scrollToBottom();
  }

  function insertLine(str) {
    terminal.insertBefore(document.createTextNode(str), cursor);
    terminal.insertBefore(document.createElement("br"), cursor);
    scrollToBottom();
  }

  function insertChar(char) {
    cursor.before(char);
  }

  function scrollToBottom() {
    const wrapper = document.querySelector('.terminal-wrapper');
    wrapper.scrollTop = wrapper.scrollHeight;
  }

  printErrorBlock();
</script>

</body>
</html>
